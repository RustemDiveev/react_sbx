<!DOCTYPE HTML>
<html>

    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/common.css">
    </head>

    <body>
        <button><a href="../start_here.html">К содержанию</a></button> 
        <h1>Автоматические тесты при помощи chai и mocha</h1>

            <p>Рассматривается методика тестирования - <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> (Behavior Driven Development)</p>
            <p>Тесты BDD - три в одном - тесты, документация, примеры использования.</p>

        <h3>Пример спецификации (что делает функция, еще до её реализации):</h3>
<code>
describe("pow", function() {

    it("возводит в n-ю степень", function() {
        assert.equal(pow(2, 3), 8);
    });

});
</code>
            <p>
                Рассмотрим три строительных блока:
                <ul>
                    <li>
                        <b>describe(название, function() { ... })</b> - задает, что именно описывается, группирует рабочие блоки it.
                    </li>
                    <li>
                        <b>it(название, function() { ... })</b> - в названии человеческим языком описывается, что должна делать функция. Далее следует тест.
                    </li>
                    <li>
                        <b>assert.equal(value1, value2)</b> - код внутри it, должен выполняться без ошибок, если реализация верна.
                    </li>
                </ul>
            </p>

        <h3>Поток разработки</h3>
            <ol>
                <li>
                    Пишется спека, описывающая базовый функционал.
                </li>
                <li>
                    Делается начальная реализация.
                </li>
                <li>
                    Проверяется соответствие между реализацией и спецификацией. Вносятся корректировки при необходимости.
                </li>
                <li>
                    Спецификация расширяется, в нее добавляются возможности, не поддерживаемые реализацией.
                </li>
                <li>
                    Далее опять пишется реализация и так далее итеративно, до победного конца.
                </li>
            </ol>

        <h3>Нужные библиотеки</h3>
            <ul>
                <li>
                    <a href="https://mochajs.org/">Mocha</a> - библиотека с общими функциями для тестирования, такие как describe и it.
                </li>
                <li>
                    <a href="https://www.chaijs.com/">Chai</a> - библиотека с функциями для проверок - assert.equal, например.
                </li>
                <li>
                    <a href="https://sinonjs.org/">Sinon</a> - библиотека для mock-а (подмены) функций "заглушками".
                </li>
            </ul>
            <p>
                Можно использовать библиотеки как на сервере node.js, так и подключать напрямую через браузер.
            </p>
            <p>
                <a href="./2_2_automatic_tests_example.html">Ссылка на браузерный пример.</a>
            </p>
    </body>

</html>