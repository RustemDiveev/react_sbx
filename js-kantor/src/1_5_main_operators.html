<!DOCTYPE HTML>
<html>

    <head>
        <meta charset="utf-8">
    </head>

    <body>

        <button><a href="../start_here.html">К содержанию</a></button> 
        <h1>Основные операторы</h1>

        <h2>Терминология</h2> 
        <p>
            <strong>Операнд</strong> - то, к чему применяется оператор. По другому - аргумент оператора.
            <br><br>
            <strong>Унарный</strong> оператор - оператор, применяющийся к одному выражению. Например, унарный минус меняет знак числа на противоположный.
            <br><br>
            <strong>Бинарный</strong> оператор - оператор, применяющийся к двум выражениям. Например, бинарный минус.
        </p>

        <h2>Сложение строк, бинарный "+"</h2>
        <p>
            Бинарный оператор "+" складывает строки, например. 
            <br><br>
            Даже если, один из операндов - число, а другой строка, число будет преобразовано в строку. 
            <br><br>
            <code>
                var a = "Здравствуй" + "старость"; //Здравствуйстарость 
                <br>
                var b = 228 + "Статья"; //228Статья
                <br>
                var c = "2" + "3"; //23
                <br>
            </code> 
            <br>
            Это особенность именно бинарного плюса. Минус, например, работает как положено. 
            <br><br>
            <code>
                var d = "3" - "2"; //1
            </code>            
        </p>

        <h2>Унарный плюс "+"</h2>
        <p>
            Унарный плюс, примененный к числу - ничего не делает. 
            <br><br>
            Но его можно использовать для строки в виде числа, чтобы преобразовать её в число: 
            <br><br>
            <code>
                var apples = "500";
                <br>
                var pears = "300";
                <br>
                var result1 = apples + pears; // "500300"
                <br>
                var result2 = +apples + +pears; // 800
            </code>    
        </p>

        <h2>Приоритет операторов</h2>

        <table style="width: 100%;">
            <tr>
                <th>Приоритет</th>
                <th>Название</th>
                <th>Обозначение</th>
            </tr>
            <tr>
                <td>15</td>
                <td>Унарный плюс</td>
                <td>+</td>
            </tr>
            <tr>
                <td>15</td>
                <td>Унарный минус</td>
                <td>-</td>
            </tr>
            <tr>
                <td>14</td>
                <td>Умножение</td>
                <td>*</td>
            </tr>
            <tr>
                <td>14</td>
                <td>Деление</td>
                <td>/</td>
            </tr>
            <tr>
                <td>13</td>
                <td>Сложение</td>
                <td>+</td>
            </tr>
            <tr>
                <td>13</td>
                <td>Вычитание</td>
                <td>+</td>
            </tr>
            <tr>
                <td>...</td>
                <td>...</td>
                <td>...</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Присваивание</td>
                <td>=</td>
            </tr>
            <tr>
                <td>...</td>
                <td>...</td>
                <td>...</td>
            </tr>
        </table>
        <p>
            Тогда в соответствии с приоритетом:
        </p>
        <code>
            var a = +8 + +10 * -3 * -20; //608
            <br>
            // a = 8 + 10 * (-3) * (-20) = 8 + 600 = 608
        </code>

        <h2>Присваивание</h2>
        <p>
            Возможно присваивание по цепочке (выполняется справа налево):
            <br>
            <code>
                var a, b, c;
                <br>
                a = b = c = 2 + 2;
                <br>
                // но вот так делать нельзя:
                <br>
                a = b + 1 = c + 2 = 20;
            </code>
        </p>
        <p>
            Все операторы возвращают значение, в том числе и оператор присваивания, например:
            <code>
                var a = 1;
                <br>
                var b = 2;
                <br>
                var c = 3 - (a = b + 1);
                <br>
                //c = 3 - (2 + 1) = 0 (при этом значение записывается в a)
            </code>
        </p>

        <h2>Взятие остатка "%"</h2> 
        <p>
            Результат оператора - остаток от деления a на b.
        </p>
        <code>
            var a = 5 % 2; //1
            <br>
            var b = 10 % 0; //NaN (делить на 0 нельзя)
            <br>
            var c = -9 % 2; //-1 (остаток от деления отрицательного числа - отрицательное число)
        </code>

        <h2>Инкремент/декремент: "++", "--"</h2> 
        <p>
            Инкремент и декремент можно применять только к переменной. 5++ - выдаст ошибку.
        </p>
        <p>
            Есть две формы записи: 
            <ul>
                <li>Постфиксная форма: i++</li>
                <li>Префиксная форма: ++i</li>
            </ul>
        </p>
        <p>
            Между этими формами есть разница, если мы хотим сразу же использовать результат выражения:
            <br>
            <code>
                var post = pre = 0;
                <br>
                alert(post++); //0
                <br>
                alert(++pre); //1
                <br>
                post //1
                <br>
                pre //1
            </code>
        </p>
        <p>
            Есть еще такой немаловажный прикол: 
            <br>
            Несмотря на то, что у инкремента и декремента более высокий приоритет, чем у арифметических операций, происходит следующее:
            <br>
            <code>
                var i = j = 1;
                <br>
                alert(2 * i++); //2
                <br>
                alert(2 + j++); //3
            </code>
        </p>

        <h2>Сокращенная арифметика с присваиванием</h2>
        <p>
            Имеет тот же приоритет, что и присваивание (доступно для арифметических и битовых операторов)
        </p>
        <code>
            var a = 2;
            <br>
            a += 5; //7
            <br>
            a *= 3; //21
            <br>
            a += 4 * 3; //33
        </code>

        <h2>Оператор запятая ","</h2>
        <p>
            Позволяет перечислять выражения. Каждое из них вычисляется и отбрасывается, за исключением последнего, которое возвращается.
        </p>
        <p>
            Единственный оператор, приоритет которого ниже присваивания.
        </p>
        <p>
            Обычно используется в составе более сложных конструкций, чтобы сделать несколько действий в одной строке.
        </p>
        <code>
            var sum = 0;
            <br>
            for (a = 1, b = 3, c = a * b; a < 3; a++) {
            <br>
            &nbsp;&nbsp;sum += c;
            <br>
            // здесь в цикле с - фиксированно, а переменная "a" - количество итераций цикла
        </code>

        <h2>Задача 1</h2>
        <code>
            var a = 1, b = 1, c, d;
            <br><br>
            c = ++a; alert(c); // с = 2, a = 2, покажет 2 
            <br>
            d = b++; alert(d); // d = 2, b = 2, покажет 1 
            <br><br>
            c = (2+ ++a); alert(c); // c = 5, a = 3, покажет 5
            <br>
            d = (2+ b++); alert(d); // d = 5, b = 3, покажет 4 
            <br><br>
            alert(a); // 3
            <br>
            alert(b); // 3
        </code>
        <p>
            <strong>Примечание:</strong> как я понял, если использовать постфиксную форму, то она удержит предыдущее значение до следующей операции с префиксной формой.
        </p>

         <h2>Задача 2</h2>
         <code>
            var a = 2;
            <br>
            var x = 1 + (a *= 2); // 5
         </code>
    </body>

</html>