<!DOCTYPE HTML>
<html>

    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/common.css">
    </head>

    <body>
        
        <script src="./js/1_12_script.js"></script>

        <button><a href="../start_here.html">К содержанию</a></button> 
        <h1>Циклы while, for</h1>

        <h2>Цикл while</h2>
        <p>
            Имеет вид:
        </p>
<code>
while (условие) {
    // код, тело цикла 
}
</code>
        <p>
            Условие в скобках интерпретируется как логическое значение. Вместо while(i!=0), while(i)
        </p>

        <h2>Цикл do...while</h2>
<code>
do {
    // тело цикла 
} while (условие);
</code>
        <p>
            Такой цикл вначале выполняет тело, а потом проверяет условие. В отличие от предыдущего.
        </p>

        <h2>Цикл for</h2>
<code>
for (начало; условие; шаг) {
    // ... тело цикла ... 
}
</code>

        <h3>Пропуск частей for</h3>
        <ul>
            <li>
                Можно убрать начало (то же самое, что и обычный цикл, но при этом переменную надо объявить до цикла)
<code>
var i = 0;

for (; i < 3; i++) {
    alert(i);
}
</code>
            </li>
            <li>
                Можно убрать шаг (тогда будет аналог while)
<code>
var i = 0;

for (; i < 3;) {
    alert(i);
}
</code>
            </li>
            <li>
                Можно убрать все (тогда будет бесконечный цикл), но точки с запятой нужны, иначе будет ошибка синтаксиса
<code>
for (;;) {
    // будет выполняться вечно
}
</code>
            </li>
        </ul>

        <h2>Цикл for..in</h2>
        <p>
            Отдельная конструкция для перебора свойств объекта 
        </p>

        <h2>Прерывание цикла: break</h2>
        <p>
            Выйти из цикла можно не только при проверке условия, но и в любой момент при помощи директивы break. 
        </p>
        <p>
            Она полностью прекращает выполнение цикла и передает управление на строку за его телом. 
        </p>
<code>
var sum = 0;

while (true) {
    var value = +prompt("Enter number");
    if (!value) break;
    sum += value;
}

alert("Sum is " + sum);
</code>

        <h2>Следующая итерация: continue</h2>
        <p>
            Директива continue прекращает выполнение текущей итерации цикла. 
        </p>
<code>
// Не выводим четные значения 
for (var i = 0; i < 10; i++) {
    if (i % 2 == 0) continue;
    alert(i);
}
</code>
        <p>
            Директива continue позволяет обойтись без скобок. 
            Цикл сверху можно было написать и без continue, 
            но потребовались бы фигурные скобки если в теле if более одной операции.
        </p>

        <h3>Нельзя использовать break/continue справа от оператора "?"</h3>
        <p>
            Обычно можно заменить if на оператор вопросительный знак ?. 
        </p>
<code>
// такая запись 
if (условие) {
    a();
} else {
    b();
}

//эквивалентна такой
условие ? a() : b();
</code>
        <p>
            Но разница в том, что оператор "?" возвращает значение. 
            Соответственно, синтаксические конструкции, не возвращающие значений нельзя использовать в операторе ?. 
            Это относится к большинству конструкций, в том числе break/continue.
        </p>
<code>
// такой код приведет к ошибке 
(i > 5) ? alert(i) : continue;
</code>

        <h2>Метки для break/continue</h2>
        <p>
            Необходимо для более гибкого управления выходом из цикла. Например, бывает, что нужно выйти одновременно из нескольких уровней цикла.
        </p>
<code>
// метка 
outer: for (var i = 0; i < 3; i++) {
    for (var j = 0; j < 3; j++) {
        break outer; // метка для выхода 
    }
}
</code>
        <p>
            Метка имеет вид {имя:}, должна быть уникальной. Можно ставить как перед циклом, так и выносить на отдельную строку.
        </p>
        <p>
            Вызов break {имя} ищет ближайший внешний цикл и переходит в его конец. 
        </p>
        <p>
            Для continue то же самое, при этом управление переходит на следующую итерацию цикла с меткой.
        </p>

        <h2>Задачи</h2>
        <h3>Какое последнее значение цикла?</h3>
<code>
var i = 3;

while(i) {
    alert(i--);
}

// выведет 1, тк постфиксная запись 
/*
    1 итерация: покажет 3, i = 2 
    2 итерация: покажет 2, i = 1 
    3 итерация: покажет 1, i = 0 
    4 итерация: выход из цикла
*/
</code>

        <h3>Какие значения i выведет цикл while?</h3>
<code>
    // 1  
    var i = 0;
    while (++i < 5) alert(i);
    // первая итерация: в условии цикла i = 1, выведет 1
    // 1, 2, 3, 4

    // 2 
    var i = 0;
    while (i++ < 5) alert(i);
    // первая итерация: в условии цикла i = 0, выведет 1 
    // 1, 2, 3, 4, 5
</code>

        <h3>Какие значения i выведет цикл for?</h3>
<code>
// 1
for (var i = 0; i < 5; i++) alert(i);
// 0, 1, 2, 3, 4

// 2 
for (var i = 0; i < 5; ++i) alert(i);
// 1, 2, 3, 4 неправильно 
// 0, 1, 2, 3, 4
/*
    Секрет прост: шаг цикла выполняется после тела цикла, поэтому ему без разнцицы пост или преинкрементная запись.
*/
</code>

        <h3>Выведите четные числа при помощи for от 2 до 10</h3>
        <button onclick="for_loop_even_numbers(2, 10)">Решение</button>
        <div id="FOR_LOOP_EVEN_NUMBERS"></div>

        <h3>Заменить for на while без изменения поведения цикла</h3>
<code>
for (var i = 0; i < 3; i++) {
    alert("номер " + i + "!");
}
// 0, 1, 2 

// решение 
var i = 0;
while(i < 3) {
    alert("номер " + i++ + "!");
}
</code>

        <h3>Повторять цикл, пока ввод неверен</h3>
        <p>
            Написать цикл, предлагающий ввести число больше 100. Если пользователь ввел другое число - попросить ввести еще раз итд. 
            Цикл повторяется, пока не будет введено число > 100, либо не нажато Cancel (ESC).
            Предполагается, что пользователь вводит только числа.
        </p>
        <button onclick="loop_until_prompt_is_correct()">Решение</button>

        <h3>Вывести простые числа от 2 до 10</h3>
        <button onclick="print_prime_numbers(2, 10)">Решение</button>
        <div id="PRINT_PRIME_NUMBERS"></div>

    </body>

</html>